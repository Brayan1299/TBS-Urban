<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TBS Urban - Panel Cliente</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Estilos específicos para el panel de cliente */
        .crm-container {
            display: flex;
            min-height: calc(100vh - 160px);
        }
        
        .crm-sidebar {
            width: 250px;
            background-color: #f5f5f5;
            padding: 30px 0;
            border-right: 1px solid #e0e0e0;
        }
        
        .crm-content {
            flex: 1;
            padding: 30px;
            background-color: #fff;
        }
        
        .user-info {
            padding: 0 20px 20px;
            border-bottom: 1px solid #e0e0e0;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .user-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            color: #777;
            font-size: 2rem;
        }
        
        .user-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .user-role {
            color: #777;
            font-size: 0.9rem;
        }
        
        .crm-nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .crm-nav ul li {
            padding: 0;
            margin: 0;
        }
        
        .crm-nav ul li a {
            display: block;
            padding: 12px 20px;
            color: #333;
            text-decoration: none;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .crm-nav ul li a:hover,
        .crm-nav ul li a.active {
            background-color: #e8e8e8;
        }
        
        .crm-nav ul li a i {
            width: 20px;
            text-align: center;
        }
        
        .page-title {
            margin-top: 0;
            margin-bottom: 30px;
            font-weight: 600;
        }
        
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background-color: #f9f9f9;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }
        
        .stat-card .stat-value {
            font-size: 2rem;
            font-weight: 700;
            margin: 10px 0;
        }
        
        .stat-card .stat-label {
            color: #777;
            font-size: 0.9rem;
        }
        
        .stat-card .stat-icon {
            float: right;
            font-size: 2.5rem;
            color: rgba(191, 149, 63, 0.2);
        }
        
        .recent-section {
            margin-top: 30px;
        }
        
        .table-responsive {
            overflow-x: auto;
        }
        
        .client-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .client-table th,
        .client-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .client-table th {
            font-weight: 600;
            color: #555;
            background-color: #f5f5f5;
        }
        
        .client-actions {
            display: flex;
            gap: 5px;
        }
        
        .action-btn {
            padding: 6px 10px;
            background-color: #f0f0f0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
        }
        
        .action-btn:hover {
            background-color: #e0e0e0;
        }
        
        .action-btn.view {
            color: #4CAF50;
        }
        
        .status-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .status-completed {
            background-color: #d4edda;
            color: #155724;
        }
        
        .status-processing {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .status-cancelled {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .wishlist-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .wishlist-item {
            border: 1px solid #eee;
            border-radius: 8px;
            overflow: hidden;
            transition: all 0.3s;
        }
        
        .wishlist-item:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transform: translateY(-5px);
        }
        
        .wishlist-image {
            height: 150px;
            overflow: hidden;
        }
        
        .wishlist-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        
        .wishlist-item:hover .wishlist-image img {
            transform: scale(1.05);
        }
        
        .wishlist-info {
            padding: 15px;
        }
        
        .wishlist-name {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        
        .wishlist-price {
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
        }
        
        .wishlist-actions {
            display: flex;
            justify-content: space-between;
        }
        
        .add-to-cart-btn,
        .remove-wishlist-btn {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            background-color: #f0f0f0;
            color: #333;
            transition: all 0.3s;
        }
        
        .add-to-cart-btn:hover {
            background-color: #BF953F;
            color: #fff;
        }
        
        .remove-wishlist-btn:hover {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .form-panel {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #555;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        /* Estilos para las pestañas */
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .profile-image-preview {
            width: 150px;
            height: 150px;
            background-color: #f0f0f0;
            border-radius: 5px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .profile-image-preview img {
            max-width: 100%;
            max-height: 100%;
        }
        
        .address-card {
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            position: relative;
        }
        
        .address-card h3 {
            margin-top: 0;
            font-size: 1.1rem;
            margin-bottom: 10px;
        }
        
        .address-actions {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            gap: 5px;
        }
        
        .address-actions button {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            color: #777;
            transition: color 0.3s;
        }
        
        .address-actions button:hover {
            color: #333;
        }
        
        .default-address {
            display: inline-block;
            background-color: #f0f0f0;
            font-size: 0.8rem;
            padding: 3px 8px;
            border-radius: 4px;
            margin-bottom: 10px;
        }
        
        .add-new-address {
            margin-top: 20px;
        }
        
        .logout-btn {
            margin-top: 20px;
            padding: 10px 20px;
            background: linear-gradient(to right, #BF953F, #FCF6BA, #B38728, #FBF5B7, #AA771C);
            color: #000;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            display: block;
            width: 90%;
            margin-left: auto;
            margin-right: auto;
            transition: all 0.3s;
        }
        
        .logout-btn:hover {
            opacity: 0.9;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .crm-container {
                flex-direction: column;
            }
            
            .crm-sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid #e0e0e0;
                padding: 20px 0;
            }
            
            .user-info {
                display: flex;
                align-items: center;
                text-align: left;
                padding: 0 20px 15px;
            }
            
            .user-avatar {
                margin: 0 15px 0 0;
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }
            
            .crm-nav ul {
                display: flex;
                overflow-x: auto;
                padding-bottom: 10px;
            }
            
            .crm-nav ul li {
                flex: 0 0 auto;
            }
            
            .crm-nav ul li a {
                padding: 10px 15px;
                flex-direction: column;
                font-size: 0.8rem;
                text-align: center;
                gap: 5px;
            }
            
            .crm-nav ul li a i {
                width: auto;
                font-size: 1.2rem;
            }
            
            .crm-content {
                padding: 20px;
            }
            
            .dashboard-stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Cabecera -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </div>
                <div class="logo">
                    <a href="index.html">
                        <span class="logo-text gold-text">TBS URBAN</span>
                    </a>
                </div>
                <nav class="desktop-nav">
                    <ul>
                        <li><a href="index.html">Inicio</a></li>
                        <li><a href="categoria.html?cat=casual">Casual</a></li>
                        <li><a href="categoria.html?cat=deportivos">Deportivos</a></li>
                    </ul>
                </nav>
                <div class="header-actions">
                    <div class="search-container">
                        <input type="text" id="searchInput" placeholder="Buscar...">
                        <button type="button" id="searchButton">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    <a href="crm-login.html" class="account-button" title="Iniciar sesión">
                        <i class="fas fa-user"></i>
                    </a>
                    <button class="cart-button" onclick="openCart()">
                        <i class="fas fa-shopping-bag"></i>
                        <span class="cart-count" id="cartCount">0</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Contenido principal -->
    <main>
        <div class="crm-container">
            <!-- Sidebar -->
            <aside class="crm-sidebar">
                <div class="user-info">
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="user-details">
                        <div class="user-name" id="userName">Cliente Demo</div>
                        <div class="user-role">Cliente</div>
                    </div>
                </div>
                
                <nav class="crm-nav">
                    <ul>
                        <li><a href="#" class="tab-link active" data-tab="dashboard">
                            <i class="fas fa-tachometer-alt"></i> Panel
                        </a></li>
                        <li><a href="#" class="tab-link" data-tab="orders">
                            <i class="fas fa-shopping-bag"></i> Mis Pedidos
                        </a></li>
                        <li><a href="#" class="tab-link" data-tab="wishlist">
                            <i class="fas fa-heart"></i> Favoritos
                        </a></li>
                        <li><a href="#" class="tab-link" data-tab="profile">
                            <i class="fas fa-user-edit"></i> Mi Perfil
                        </a></li>
                        <li><a href="#" class="tab-link" data-tab="addresses">
                            <i class="fas fa-map-marker-alt"></i> Direcciones
                        </a></li>
                    </ul>
                </nav>
                
                <button id="logoutBtn" class="logout-btn">Cerrar Sesión</button>
            </aside>
            
            <!-- Contenido principal -->
            <div class="crm-content">
                <!-- Panel de control -->
                <div id="dashboard" class="tab-content active">
                    <h1 class="page-title">Panel de Control</h1>
                    
                    <div class="dashboard-stats">
                        <div class="stat-card">
                            <i class="fas fa-shopping-bag stat-icon"></i>
                            <div class="stat-label">Pedidos</div>
                            <div class="stat-value">3</div>
                            <div class="stat-change">Último pedido: 10/03/2025</div>
                        </div>
                        
                        <div class="stat-card">
                            <i class="fas fa-heart stat-icon"></i>
                            <div class="stat-label">Favoritos</div>
                            <div class="stat-value">5</div>
                            <div class="stat-change">Agregados recientemente</div>
                        </div>
                        
                        <div class="stat-card">
                            <i class="fas fa-star stat-icon"></i>
                            <div class="stat-label">Reseñas</div>
                            <div class="stat-value">2</div>
                            <div class="stat-change">Calificación promedio: 4.5</div>
                        </div>
                        
                        <div class="stat-card">
                            <i class="fas fa-tag stat-icon"></i>
                            <div class="stat-label">Cupones</div>
                            <div class="stat-value">1</div>
                            <div class="stat-change">Descuento disponible: 10%</div>
                        </div>
                    </div>
                    
                    <!-- Pedidos recientes -->
                    <div class="recent-section">
                        <h2>Pedidos recientes</h2>
                        <div class="table-responsive">
                            <table class="client-table">
                                <thead>
                                    <tr>
                                        <th>Pedido #</th>
                                        <th>Fecha</th>
                                        <th>Estado</th>
                                        <th>Total</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>TBS-2058</td>
                                        <td>10/03/2025</td>
                                        <td><span class="status-badge status-processing">En proceso</span></td>
                                        <td>$210.000</td>
                                        <td>
                                            <div class="client-actions">
                                                <button class="action-btn view"><i class="fas fa-eye"></i> Ver</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>TBS-2042</td>
                                        <td>25/02/2025</td>
                                        <td><span class="status-badge status-completed">Completado</span></td>
                                        <td>$190.000</td>
                                        <td>
                                            <div class="client-actions">
                                                <button class="action-btn view"><i class="fas fa-eye"></i> Ver</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>TBS-2021</td>
                                        <td>15/01/2025</td>
                                        <td><span class="status-badge status-completed">Completado</span></td>
                                        <td>$250.000</td>
                                        <td>
                                            <div class="client-actions">
                                                <button class="action-btn view"><i class="fas fa-eye"></i> Ver</button>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Productos favoritos destacados -->
                    <div class="recent-section">
                        <h2>Tus favoritos</h2>
                        <div class="wishlist-grid" id="dashboardWishlist">
                            <!-- Productos favoritos -->
                            <div class="wishlist-item">
                                <div class="wishlist-image">
                                    <img src="https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" alt="Producto">
                                </div>
                                <div class="wishlist-info">
                                    <div class="wishlist-name">TBS Performance Pro</div>
                                    <div class="wishlist-price">$240.000</div>
                                    <div class="wishlist-actions">
                                        <button class="add-to-cart-btn"><i class="fas fa-shopping-cart"></i></button>
                                        <button class="remove-wishlist-btn"><i class="fas fa-trash"></i></button>
                                    </div>
                                </div>
                            </div>
                            <div class="wishlist-item">
                                <div class="wishlist-image">
                                    <img src="https://images.unsplash.com/photo-1525966222134-fcfa99b8ae77?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" alt="Producto">
                                </div>
                                <div class="wishlist-info">
                                    <div class="wishlist-name">TBS Urban Classic</div>
                                    <div class="wishlist-price">$189.000</div>
                                    <div class="wishlist-actions">
                                        <button class="add-to-cart-btn"><i class="fas fa-shopping-cart"></i></button>
                                        <button class="remove-wishlist-btn"><i class="fas fa-trash"></i></button>
                                    </div>
                                </div>
                            </div>
                            <div class="wishlist-item">
                                <div class="wishlist-image">
                                    <img src="https://images.unsplash.com/photo-1575537302964-96cd47c06b1b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" alt="Producto">
                                </div>
                                <div class="wishlist-info">
                                    <div class="wishlist-name">TBS Casual Premium</div>
                                    <div class="wishlist-price">$220.000</div>
                                    <div class="wishlist-actions">
                                        <button class="add-to-cart-btn"><i class="fas fa-shopping-cart"></i></button>
                                        <button class="remove-wishlist-btn"><i class="fas fa-trash"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Mis Pedidos -->
                <div id="orders" class="tab-content">
                    <h1 class="page-title">Mis Pedidos</h1>
                    
                    <div class="form-panel">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="orderFilter">Filtrar por estado</label>
                                <select id="orderFilter">
                                    <option value="all">Todos</option>
                                    <option value="processing">En proceso</option>
                                    <option value="completed">Completados</option>
                                    <option value="cancelled">Cancelados</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="orderSort">Ordenar por</label>
                                <select id="orderSort">
                                    <option value="date-desc">Fecha: Más reciente primero</option>
                                    <option value="date-asc">Fecha: Más antiguo primero</option>
                                    <option value="amount-desc">Importe: Mayor a menor</option>
                                    <option value="amount-asc">Importe: Menor a mayor</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="table-responsive">
                        <table class="client-table">
                            <thead>
                                <tr>
                                    <th>Pedido #</th>
                                    <th>Fecha</th>
                                    <th>Estado</th>
                                    <th>Productos</th>
                                    <th>Total</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>TBS-2058</td>
                                    <td>10/03/2025</td>
                                    <td><span class="status-badge status-processing">En proceso</span></td>
                                    <td>2 productos</td>
                                    <td>$210.000</td>
                                    <td>
                                        <div class="client-actions">
                                            <button class="action-btn view"><i class="fas fa-eye"></i> Ver</button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>TBS-2042</td>
                                    <td>25/02/2025</td>
                                    <td><span class="status-badge status-completed">Completado</span></td>
                                    <td>1 producto</td>
                                    <td>$190.000</td>
                                    <td>
                                        <div class="client-actions">
                                            <button class="action-btn view"><i class="fas fa-eye"></i> Ver</button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>TBS-2021</td>
                                    <td>15/01/2025</td>
                                    <td><span class="status-badge status-completed">Completado</span></td>
                                    <td>2 productos</td>
                                    <td>$250.000</td>
                                    <td>
                                        <div class="client-actions">
                                            <button class="action-btn view"><i class="fas fa-eye"></i> Ver</button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Favoritos -->
                <div id="wishlist" class="tab-content">
                    <h1 class="page-title">Mis Favoritos</h1>
                    
                    <div class="wishlist-grid">
                        <div class="wishlist-item">
                            <div class="wishlist-image">
                                <img src="https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" alt="Producto">
                            </div>
                            <div class="wishlist-info">
                                <div class="wishlist-name">TBS Performance Pro</div>
                                <div class="wishlist-price">$240.000</div>
                                <div class="wishlist-actions">
                                    <button class="add-to-cart-btn"><i class="fas fa-shopping-cart"></i></button>
                                    <button class="remove-wishlist-btn"><i class="fas fa-trash"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="wishlist-item">
                            <div class="wishlist-image">
                                <img src="https://images.unsplash.com/photo-1525966222134-fcfa99b8ae77?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" alt="Producto">
                            </div>
                            <div class="wishlist-info">
                                <div class="wishlist-name">TBS Urban Classic</div>
                                <div class="wishlist-price">$189.000</div>
                                <div class="wishlist-actions">
                                    <button class="add-to-cart-btn"><i class="fas fa-shopping-cart"></i></button>
                                    <button class="remove-wishlist-btn"><i class="fas fa-trash"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="wishlist-item">
                            <div class="wishlist-image">
                                <img src="https://images.unsplash.com/photo-1575537302964-96cd47c06b1b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" alt="Producto">
                            </div>
                            <div class="wishlist-info">
                                <div class="wishlist-name">TBS Casual Premium</div>
                                <div class="wishlist-price">$220.000</div>
                                <div class="wishlist-actions">
                                    <button class="add-to-cart-btn"><i class="fas fa-shopping-cart"></i></button>
                                    <button class="remove-wishlist-btn"><i class="fas fa-trash"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="wishlist-item">
                            <div class="wishlist-image">
                                <img src="https://images.unsplash.com/photo-1552346154-21d32810aba3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80" alt="Producto">
                            </div>
                            <div class="wishlist-info">
                                <div class="wishlist-name">TBS Sport Elite</div>
                                <div class="wishlist-price">$270.000</div>
                                <div class="wishlist-actions">
                                    <button class="add-to-cart-btn"><i class="fas fa-shopping-cart"></i></button>
                                    <button class="remove-wishlist-btn"><i class="fas fa-trash"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="wishlist-item">
                            <div class="wishlist-image">
                                <img src="https://images.unsplash.com/photo-1595341888016-a392ef81b7de?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2079&q=80" alt="Producto">
                            </div>
                            <div class="wishlist-info">
                                <div class="wishlist-name">TBS Urban Street</div>
                                <div class="wishlist-price">$195.000</div>
                                <div class="wishlist-actions">
                                    <button class="add-to-cart-btn"><i class="fas fa-shopping-cart"></i></button>
                                    <button class="remove-wishlist-btn"><i class="fas fa-trash"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Mi Perfil -->
                <div id="profile" class="tab-content">
                    <h1 class="page-title">Mi Perfil</h1>
                    
                    <div class="form-panel">
                        <form id="profileForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="profileName">Nombre completo</label>
                                    <input type="text" id="profileName" value="Carlos Rodríguez">
                                </div>
                                <div class="form-group">
                                    <label for="profileEmail">Correo electrónico</label>
                                    <input type="email" id="profileEmail" value="carlos@ejemplo.com">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="profilePhone">Teléfono</label>
                                    <input type="tel" id="profilePhone" value="+57 300 123 4567">
                                </div>
                                <div class="form-group">
                                    <label for="profileBirthday">Fecha de nacimiento</label>
                                    <input type="date" id="profileBirthday" value="1990-05-15">
                                </div>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="btn primary-btn">Guardar cambios</button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="form-panel">
                        <h2>Cambiar contraseña</h2>
                        <form id="passwordForm">
                            <div class="form-group">
                                <label for="currentPassword">Contraseña actual</label>
                                <input type="password" id="currentPassword">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="newPassword">Nueva contraseña</label>
                                    <input type="password" id="newPassword">
                                </div>
                                <div class="form-group">
                                    <label for="confirmPassword">Confirmar nueva contraseña</label>
                                    <input type="password" id="confirmPassword">
                                </div>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="btn primary-btn">Actualizar contraseña</button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- Direcciones -->
                <div id="addresses" class="tab-content">
                    <h1 class="page-title">Mis Direcciones</h1>
                    
                    <div class="address-card">
                        <span class="default-address">Dirección principal</span>
                        <h3>Casa</h3>
                        <p>Calle 123 #45-67, Apto. 301<br>
                        Bogotá, Colombia<br>
                        Código postal: 111111</p>
                        <div class="address-actions">
                            <button><i class="fas fa-pen"></i></button>
                            <button><i class="fas fa-trash"></i></button>
                        </div>
                    </div>
                    
                    <div class="address-card">
                        <h3>Trabajo</h3>
                        <p>Carrera 50 #80-90, Edificio Central<br>
                        Bogotá, Colombia<br>
                        Código postal: 222222</p>
                        <div class="address-actions">
                            <button><i class="fas fa-pen"></i></button>
                            <button><i class="fas fa-trash"></i></button>
                        </div>
                    </div>
                    
                    <div class="add-new-address">
                        <button class="btn secondary-btn">
                            <i class="fas fa-plus"></i> Agregar nueva dirección
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3 class="logo-text gold-text">TBS URBAN</h3>
                    <p>Tu tienda especializada en tenis para hombres con las últimas tendencias y la mejor calidad.</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h4>Categorías</h4>
                    <ul>
                        <li><a href="categoria.html?cat=casual">Casual</a></li>
                        <li><a href="categoria.html?cat=deportivos">Deportivos</a></li>
                        <li><a href="#">Ofertas</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Información</h4>
                    <ul>
                        <li><a href="#">Sobre nosotros</a></li>
                        <li><a href="#">Contacto</a></li>
                        <li><a href="#">Envíos</a></li>
                        <li><a href="#">Devoluciones</a></li>
                        <li><a href="#">FAQ</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Contacto</h4>
                    <ul class="contact-info">
                        <li><i class="fas fa-map-marker-alt"></i> Calle Principal 123, Bogotá</li>
                        <li><i class="fas fa-phone"></i> +57 300 123 4567</li>
                        <li><i class="fas fa-envelope"></i> info@tbsurban.com</li>
                        <li><i class="fas fa-clock"></i> Lun-Sáb: 10am - 8pm</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 TBS Urban. Todos los derechos reservados.</p>
                <div class="footer-links">
                    <a href="#">Política de privacidad</a>
                    <a href="#">Términos y condiciones</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Overlay para elementos emergentes -->
    <div class="overlay" id="overlay"></div>

    <script src="data.js"></script>
    <script src="script.js"></script>
    <script>
        // Script específico para el panel de cliente
        document.addEventListener('DOMContentLoaded', function() {
            // Comprobar si el usuario está logueado
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            
            if (!currentUser || !currentUser.username || currentUser.role !== 'cliente') {
                // Si no está logueado o no es cliente, redirigir al login
                window.location.href = 'crm-login.html';
                return;
            }
            
            // Mostrar nombre de usuario
            document.getElementById('userName').textContent = currentUser.username;
            
            // Verificar si es un usuario nuevo
            const isNewUser = currentUser.isNewUser || false;
            
            // Crear clave única para los datos de este usuario
            const userDataKey = `user_${currentUser.username}`;
            
            // Recuperar o inicializar los datos del cliente
            let clientOrders = JSON.parse(localStorage.getItem(`${userDataKey}_orders`)) || [];
            let clientWishlist = JSON.parse(localStorage.getItem(`${userDataKey}_wishlist`)) || [];
            let clientAddresses = JSON.parse(localStorage.getItem(`${userDataKey}_addresses`)) || [];
            
            // Sólo para el usuario demo 'cliente', cargamos datos de ejemplo si no existen
            if (currentUser.username === 'cliente' && clientOrders.length === 0) {
                clientOrders = [
                    { 
                        id: "TBS-2058", 
                        date: '10/03/2025', 
                        status: 'En proceso', 
                        total: 210000,
                        items: [
                            { productId: 5, name: "Nike Dunk Low", quantity: 1, price: 480000, color: "Negro/Blanco", size: "41" }
                        ]
                    },
                    { 
                        id: "TBS-2042", 
                        date: '25/02/2025', 
                        status: 'Completado', 
                        total: 190000,
                        items: [
                            { productId: 9, name: "Nike SB Check Solarsoft", quantity: 1, price: 350000, color: "Negro", size: "42" }
                        ]
                    },
                    { 
                        id: "TBS-2021", 
                        date: '15/01/2025', 
                        status: 'Completado', 
                        total: 250000,
                        items: [
                            { productId: 10, name: "Nike Tanjun", quantity: 1, price: 320000, color: "Blanco", size: "43" }
                        ]
                    }
                ];
                localStorage.setItem(`${userDataKey}_orders`, JSON.stringify(clientOrders));
                
                // También creamos datos de ejemplo para wishlist y direcciones
                clientWishlist = [1, 5, 11]; // IDs de productos favoritos
                localStorage.setItem(`${userDataKey}_wishlist`, JSON.stringify(clientWishlist));
                
                clientAddresses = [
                    {
                        id: 1,
                        name: "Casa",
                        street: "Calle 123 #45-67",
                        city: "Bogotá",
                        state: "Cundinamarca",
                        postalCode: "110111",
                        isDefault: true
                    }
                ];
                localStorage.setItem(`${userDataKey}_addresses`, JSON.stringify(clientAddresses));
            }
            
            // Para usuarios nuevos registrados, siempre cargamos datos vacíos
            // (ya se inicializaron con arrays vacíos)
            
            // Cambio de pestañas
            const tabLinks = document.querySelectorAll('.tab-link');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remover clase activa de todos los links
                    tabLinks.forEach(l => l.classList.remove('active'));
                    
                    // Agregar clase activa al link actual
                    this.classList.add('active');
                    
                    // Mostrar el contenido correspondiente
                    const tabId = this.getAttribute('data-tab');
                    
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    document.getElementById(tabId).classList.add('active');
                });
            });
            
            // Cargar pedidos en la tabla
            const orderTableBody = document.querySelector('#pedidos tbody');
            if (orderTableBody) {
                loadOrdersTable();
            }
            
            // Cargar favoritos
            const wishlistContainer = document.querySelector('.favorites-section');
            if (wishlistContainer) {
                loadWishlist();
            }
            
            // Cargar direcciones
            const addressesContainer = document.querySelector('.addresses-section');
            if (addressesContainer) {
                loadAddresses();
            }
            
            // Formulario de perfil
            const profileForm = document.getElementById('profileForm');
            if (profileForm) {
                // Obtener perfil guardado, si existe
                const savedProfile = JSON.parse(localStorage.getItem(`${userDataKey}_profile`)) || {};
                
                // Rellenar formulario con datos guardados
                if (savedProfile) {
                    for (const field in savedProfile) {
                        const input = document.getElementById(field);
                        if (input) {
                            input.value = savedProfile[field];
                        }
                    }
                }
                
                profileForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Recopilar datos del formulario
                    const profile = {
                        firstName: document.getElementById('firstName') ? document.getElementById('firstName').value : '',
                        lastName: document.getElementById('lastName') ? document.getElementById('lastName').value : '',
                        email: document.getElementById('email') ? document.getElementById('email').value : currentUser.username,
                        phone: document.getElementById('phone') ? document.getElementById('phone').value : '',
                    };
                    
                    // Guardar perfil
                    localStorage.setItem(`${userDataKey}_profile`, JSON.stringify(profile));
                    alert('Perfil actualizado correctamente');
                });
            }
            
            // Formulario de cambio de contraseña
            const passwordForm = document.getElementById('passwordForm');
            if (passwordForm) {
                passwordForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const currentPass = document.getElementById('currentPassword') ? document.getElementById('currentPassword').value : '';
                    const newPass = document.getElementById('newPassword').value;
                    const confirmPass = document.getElementById('confirmPassword').value;
                    
                    if (!newPass || !confirmPass) {
                        alert('Por favor, complete todos los campos');
                        return;
                    }
                    
                    if (newPass !== confirmPass) {
                        alert('Las contraseñas no coinciden');
                        return;
                    }
                    
                    alert('Contraseña actualizada correctamente');
                    this.reset();
                });
            }
            
            // Manejo del botón de cerrar sesión
            document.getElementById('logoutBtn').addEventListener('click', function() {
                // Limpiar datos de sesión
                localStorage.removeItem('currentUser');
                
                // Redirigir al login
                window.location.href = 'crm-login.html';
            });
            
            // Event listeners para los botones de acción
            document.addEventListener('click', function(e) {
                // Ver detalles de pedido
                if (e.target.closest('.action-btn.view')) {
                    const orderId = e.target.closest('tr').querySelector('td:first-child').textContent;
                    const order = clientOrders.find(o => o.id === orderId);
                    
                    if (order) {
                        let itemsDetails = '';
                        order.items.forEach(item => {
                            itemsDetails += `
                                Producto: ${item.name}
                                Cantidad: ${item.quantity}
                                Color: ${item.color}
                                Talla: ${item.size}
                                Precio: ${formatPrice(item.price)}
                                -------------------------
                            `;
                        });
                        
                        const orderDetails = `
                            Pedido #${order.id}
                            Fecha: ${order.date}
                            Estado: ${order.status}
                            Total: ${formatPrice(order.total)}
                            
                            PRODUCTOS:
                            ${itemsDetails}
                        `;
                        
                        alert(orderDetails);
                    }
                }
                
                // Agregar producto al carrito desde favoritos
                if (e.target.closest('.add-to-cart-btn')) {
                    const productId = parseInt(e.target.closest('.add-to-cart-btn').getAttribute('data-id'));
                    const product = getProductById(productId);
                    
                    if (product) {
                        addToCart(product.id, 1, product.colors[0], product.sizes[0]);
                        alert('Producto agregado al carrito');
                    }
                }
                
                // Eliminar producto de favoritos
                if (e.target.closest('.remove-wishlist-btn')) {
                    const productId = parseInt(e.target.closest('.remove-wishlist-btn').getAttribute('data-id'));
                    removeFromWishlist(productId);
                }
                
                // Agregar nueva dirección
                if (e.target.closest('.add-new-address button')) {
                    showAddressForm();
                }
                
                // Editar dirección
                if (e.target.closest('.address-actions .edit-btn')) {
                    const addressId = parseInt(e.target.closest('.address-card').getAttribute('data-id'));
                    editAddress(addressId);
                }
                
                // Eliminar dirección
                if (e.target.closest('.address-actions .delete-btn')) {
                    const addressId = parseInt(e.target.closest('.address-card').getAttribute('data-id'));
                    deleteAddress(addressId);
                }
            });
            
            // Función para cargar la tabla de pedidos
            function loadOrdersTable() {
                let html = '';
                
                clientOrders.forEach(order => {
                    const statusClass = 
                        order.status === 'Completado' ? 'status-completed' : 
                        order.status === 'En camino' ? 'status-shipped' : 
                        'status-processing';
                    
                    html += `
                        <tr>
                            <td>${order.id}</td>
                            <td>${order.date}</td>
                            <td><span class="status-badge ${statusClass}">${order.status}</span></td>
                            <td>${formatPrice(order.total)}</td>
                            <td>
                                <div class="client-actions">
                                    <button class="action-btn view"><i class="fas fa-eye"></i> Ver</button>
                                </div>
                            </td>
                        </tr>
                    `;
                });
                
                orderTableBody.innerHTML = html || '<tr><td colspan="5">No hay pedidos recientes</td></tr>';
            }
            
            // Función para cargar lista de favoritos
            function loadWishlist() {
                const favoriteItems = document.querySelector('.favorites-container');
                if (!favoriteItems) return;
                
                let html = '';
                
                clientWishlist.forEach(productId => {
                    const product = getProductById(productId);
                    if (!product) return;
                    
                    html += `
                        <div class="favorite-item">
                            <div class="favorite-image">
                                <img src="${product.imageUrl}" alt="${product.name}">
                            </div>
                            <div class="favorite-details">
                                <h4>${product.name}</h4>
                                <p class="favorite-price">${formatPrice(product.price)}</p>
                                <div class="favorite-actions">
                                    <button class="btn-primary add-to-cart-btn" data-id="${product.id}">
                                        <i class="fas fa-shopping-cart"></i> Agregar al carrito
                                    </button>
                                    <button class="btn-secondary remove-wishlist-btn" data-id="${product.id}">
                                        <i class="fas fa-trash"></i> Eliminar
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                favoriteItems.innerHTML = html || '<p>No tienes productos favoritos.</p>';
            }
            
            // Función para eliminar de favoritos
            function removeFromWishlist(productId) {
                clientWishlist = clientWishlist.filter(id => id !== productId);
                localStorage.setItem(`${userDataKey}_wishlist`, JSON.stringify(clientWishlist));
                
                const wishlistItem = document.querySelector(`.remove-wishlist-btn[data-id="${productId}"]`).closest('.favorite-item');
                if (wishlistItem) {
                    wishlistItem.style.opacity = '0.5';
                    setTimeout(() => {
                        loadWishlist();
                    }, 500);
                }
            }
            
            // Función para cargar direcciones
            function loadAddresses() {
                const addressList = document.querySelector('.address-list');
                if (!addressList) return;
                
                let html = '';
                
                clientAddresses.forEach(address => {
                    html += `
                        <div class="address-card" data-id="${address.id}">
                            ${address.isDefault ? '<span class="default-badge">Predeterminada</span>' : ''}
                            <h4>${address.name}</h4>
                            <p>${address.street}</p>
                            <p>${address.city}, ${address.state} ${address.postalCode}</p>
                            <div class="address-actions">
                                <button class="edit-btn"><i class="fas fa-pen"></i></button>
                                <button class="delete-btn"><i class="fas fa-trash"></i></button>
                            </div>
                        </div>
                    `;
                });
                
                addressList.innerHTML = html;
            }
            
            // Función para mostrar formulario de dirección
            function showAddressForm(address = null) {
                const addressFormHTML = `
                    <div class="address-form-container">
                        <h3>${address ? 'Editar' : 'Agregar'} dirección</h3>
                        <form id="addressForm">
                            <input type="hidden" id="addressId" value="${address ? address.id : ''}">
                            <div class="form-group">
                                <label for="addressName">Nombre de la dirección</label>
                                <input type="text" id="addressName" value="${address ? address.name : ''}" required>
                            </div>
                            <div class="form-group">
                                <label for="addressStreet">Dirección</label>
                                <input type="text" id="addressStreet" value="${address ? address.street : ''}" required>
                            </div>
                            <div class="form-group">
                                <label for="addressCity">Ciudad</label>
                                <input type="text" id="addressCity" value="${address ? address.city : ''}" required>
                            </div>
                            <div class="form-group">
                                <label for="addressState">Departamento/Estado</label>
                                <input type="text" id="addressState" value="${address ? address.state : ''}" required>
                            </div>
                            <div class="form-group">
                                <label for="addressPostal">Código postal</label>
                                <input type="text" id="addressPostal" value="${address ? address.postalCode : ''}">
                            </div>
                            <div class="form-check">
                                <input type="checkbox" id="addressDefault" ${address && address.isDefault ? 'checked' : ''}>
                                <label for="addressDefault">Establecer como dirección predeterminada</label>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn-primary">Guardar</button>
                                <button type="button" class="btn-secondary cancel-address-form">Cancelar</button>
                            </div>
                        </form>
                    </div>
                `;
                
                // Crear overlay
                const overlay = document.createElement('div');
                overlay.className = 'address-form-overlay';
                overlay.innerHTML = addressFormHTML;
                document.body.appendChild(overlay);
                
                // Event listener para el formulario
                const addressForm = document.getElementById('addressForm');
                addressForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    saveAddress();
                });
                
                // Event listener para cancelar
                const cancelBtn = document.querySelector('.cancel-address-form');
                cancelBtn.addEventListener('click', function() {
                    document.body.removeChild(overlay);
                });
            }
            
            // Función para guardar dirección
            function saveAddress() {
                const addressId = document.getElementById('addressId').value;
                const isDefault = document.getElementById('addressDefault').checked;
                
                // Si hay una dirección predeterminada y esta nueva también es predeterminada,
                // quitar la marca de predeterminada a la anterior
                if (isDefault) {
                    clientAddresses.forEach(addr => {
                        if (addr.isDefault) {
                            addr.isDefault = false;
                        }
                    });
                }
                
                const newAddress = {
                    id: addressId ? parseInt(addressId) : Date.now(),
                    name: document.getElementById('addressName').value,
                    street: document.getElementById('addressStreet').value,
                    city: document.getElementById('addressCity').value,
                    state: document.getElementById('addressState').value,
                    postalCode: document.getElementById('addressPostal').value,
                    isDefault: isDefault
                };
                
                if (addressId) {
                    // Actualizar dirección existente
                    const index = clientAddresses.findIndex(addr => addr.id === parseInt(addressId));
                    if (index !== -1) {
                        clientAddresses[index] = newAddress;
                    }
                } else {
                    // Agregar nueva dirección
                    clientAddresses.push(newAddress);
                }
                
                // Guardar y recargar
                localStorage.setItem(`${userDataKey}_addresses`, JSON.stringify(clientAddresses));
                loadAddresses();
                
                // Cerrar el formulario
                const overlay = document.querySelector('.address-form-overlay');
                if (overlay) {
                    document.body.removeChild(overlay);
                }
                
                alert('Dirección guardada correctamente');
            }
            
            // Función para editar dirección
            function editAddress(addressId) {
                const address = clientAddresses.find(addr => addr.id === addressId);
                if (address) {
                    showAddressForm(address);
                }
            }
            
            // Función para eliminar dirección
            function deleteAddress(addressId) {
                if (confirm('¿Estás seguro de eliminar esta dirección?')) {
                    clientAddresses = clientAddresses.filter(addr => addr.id !== addressId);
                    localStorage.setItem(`${userDataKey}_addresses`, JSON.stringify(clientAddresses));
                    loadAddresses();
                }
            }
            
            // Añadir estilos para el formulario de dirección
            const style = document.createElement('style');
            style.textContent = `
                .address-form-overlay {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background-color: rgba(0, 0, 0, 0.5);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 1000;
                }
                
                .address-form-container {
                    background-color: #fff;
                    border-radius: 8px;
                    padding: 30px;
                    width: 90%;
                    max-width: 500px;
                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
                }
                
                .form-check {
                    display: flex;
                    align-items: center;
                    margin-bottom: 20px;
                }
                
                .form-check input {
                    margin-right: 10px;
                    width: auto;
                }
                
                .form-actions {
                    display: flex;
                    justify-content: space-between;
                    gap: 10px;
                }
                
                .default-badge {
                    position: absolute;
                    top: 10px;
                    right: 10px;
                    background-color: #BF953F;
                    color: white;
                    padding: 3px 8px;
                    border-radius: 4px;
                    font-size: 0.8rem;
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>